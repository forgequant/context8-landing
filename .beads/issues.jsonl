{"id":"ctx8land-0xa","title":"DASH-6: Crowded trade alerts — gauge cards, divergence watch","description":"## Objective\nCreate crowded trade alert cards with semi-circular gauge and historical analog display.\n\n## Must-Haves\n1. Create `src/components/disagree/CrowdedTradeGauge.tsx` — semi-circular gauge (recharts RadialBarChart, 160x100px): agreement ratio 0-1.0 mapped to arc, color thresholds (0-0.4 green/safe, 0.4-0.6 amber/caution, 0.6-0.8 orange/high, 0.8-1.0 red/extreme), center text shows percentage; accepts `{ ratio: number }` prop\n2. Create `src/components/disagree/CrowdedTradeCard.tsx` — card with: asset symbol (JetBrains Mono 600), direction (\"Crowded LONGS\"/\"Crowded SHORTS\" in signal color), z-score display, gauge component, contributing modules list (e.g., \"Funding, OI, Social (3/6)\"), historical analog inset (\"Last Time: Jan 18: -14% in 3 days\"); severity visual: z\u003e2.5 pulsing amber border, z\u003e3.0 bear-dim background\n3. Create `src/components/disagree/DivergenceWatch.tsx` — compact list of divergence items: each shows type (e.g., \"Sentiment vs Price\"), asset, strength indicator (1-3 bars), brief description; simple vertical stack, no complex visualization\n\n## Non-Goals\n- Interactive gauge (hover/click actions)\n- Funding rate time series tooltip\n- Alert sounds or browser notifications\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 7)\n- Depends on: DASH-1 (color tokens)\n- recharts v3 for RadialBarChart gauge\n- Files to create: src/components/disagree/CrowdedTradeGauge.tsx, src/components/disagree/CrowdedTradeCard.tsx, src/components/disagree/DivergenceWatch.tsx\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] CrowdedTradeGauge renders semi-circular arc with color thresholds\n- [ ] CrowdedTradeCard shows asset, direction, z-score, gauge, historical analog\n- [ ] DivergenceWatch renders compact list of divergence items\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:11.838927+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:35.837963+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-0xa","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:43.451724+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-1ew","title":"DASH-9: Command palette + keyboard navigation","description":"## Objective\nCreate command palette and keyboard navigation for the dashboard.\n\n## Must-Haves\n1. Create `src/components/dashboard/CommandPalette.tsx` — using shadcn Command (cmdk): opens with Ctrl+K/Cmd+K, search input with placeholder \"Search assets, commands...\", grouped items: Navigation (Today, Crowded, Divergence, History), Assets (BTC, ETH, SOL...), Actions (Settings); selecting navigates to the route; closes on Escape or selection\n2. Create `src/hooks/useKeyboardNav.ts` — global keyboard shortcuts: `1-4` navigate sections (Report/Crowded/Divergence/History), `Left/Right` arrows for prev/next day report, `Escape` closes any open panel, `/` focuses search; shortcuts only fire when no input is focused; uses native `keydown` listeners (not react-hotkeys-hook yet)\n3. Wire CommandPalette into Dashboard.tsx layout, wire useKeyboardNav into Dashboard page\n\n## Non-Goals\n- Scorecard-specific j/k navigation (phase 2)\n- Asset comparison command (\"compare btc eth\")\n- Command palette persistence or history\n- react-hotkeys-hook (add later when \u003e5 shortcuts)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 10)\n- Depends on: DASH-2 (layout shell for mounting)\n- shadcn Command component (cmdk) — already in approved stack\n- If shadcn Command not yet installed, install it: `npx shadcn@latest add command`\n- Files to create: src/components/dashboard/CommandPalette.tsx, src/hooks/useKeyboardNav.ts\n- Files to modify: src/pages/Dashboard.tsx\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] CommandPalette opens with Ctrl+K/Cmd+K\n- [ ] Navigation items work (Today, Crowded, Divergence, History)\n- [ ] useKeyboardNav handles 1-4 section nav + Left/Right report nav\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:15.838225+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:36.778838+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-1ew","depends_on_id":"ctx8land-jdn","type":"blocks","created_at":"2026-02-12T11:29:42.396941+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-1fz","title":"DASH-7: Live prices — Zustand store, WebSocket, ticker, sparklines","description":"## Objective\nCreate live price system: Zustand store, WebSocket hook with rAF batching, price ticker strip, and mini sparklines.\n\n## Must-Haves\n1. Create `src/stores/priceStore.ts` — Zustand store with: `prices: Record\u003cstring, { price, prevPrice, change24h, lastUpdate }\u003e`, `connectionStatus: 'connected'|'disconnected'|'reconnecting'`, `lastMessageTime: number`, `batchUpdate(updates)` action, `setConnectionStatus(s)` action; selectors per-symbol for minimal re-renders\n2. Create `src/hooks/useWebSocketPrices.ts` — connects to Binance mini-ticker WS (`wss://stream.binance.com:9443/ws/!miniTicker@arr`), buffers incoming messages in a ref, flushes to priceStore via `requestAnimationFrame` (not setInterval), handles reconnect on disconnect, stale detection (30s no message → reconnecting status)\n3. Create `src/components/disagree/PriceTicker.tsx` — fixed 40px strip at top of dashboard: horizontal row of `[SYMBOL $price ▲/▼ change%]` items, JetBrains Mono for numbers, price flash CSS animation (300ms green/red background flash on change), connection status dot (green/amber/red); `src/components/disagree/MiniSparkline.tsx` — 60x20px lightweight-charts LineSeries, no axes/crosshair/labels\n\n## Non-Goals\n- Full candlestick chart (separate task DASH-8)\n- Watchlist management UI\n- Historical price data fetching\n- Multiple exchange support\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 8)\n- Zustand v5, lightweight-charts v5\n- Must NOT use the existing useCryptoPrice hook (CoinGecko polling, doesn't scale)\n- Price flash: CSS keyframes `price-flash-up` / `price-flash-down` in globals.css\n- React.memo on PriceCell with `key={price}` trick for re-triggering animation\n- Files to create: src/stores/priceStore.ts, src/hooks/useWebSocketPrices.ts, src/components/disagree/PriceTicker.tsx, src/components/disagree/MiniSparkline.tsx\n- Files to modify: src/styles/globals.css (add price-flash keyframes)\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] priceStore has prices, connectionStatus, batchUpdate action\n- [ ] useWebSocketPrices batches via requestAnimationFrame (not setInterval)\n- [ ] PriceTicker renders symbol + price + change with flash animation\n- [ ] MiniSparkline renders 60x20 lightweight-charts line\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:13.79194+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:36.565722+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-1fz","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:40.464344+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-2mn","title":"Social proof: добавить логотипы/отзывы/метрики","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T16:12:20.130961+03:00","updated_at":"2025-12-04T16:15:29.6925+03:00","closed_at":"2025-12-04T16:15:29.6925+03:00","dependencies":[{"issue_id":"ctx8land-2mn","depends_on_id":"ctx8land-4zp","type":"blocks","created_at":"2025-12-04T16:12:27.204256+03:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ctx8land-3ux","title":"Build generation script: AITrader skills → Supabase","description":"## Objective\nWrite a Python script that runs AITrader skills, detects cross-module conflicts, and inserts a formatted DailyReport into Supabase.\n\n## Must-Haves\n1. Run 6 AITrader skills via subprocess (funding-screener, oi-divergence, social-price-divergence, ta-scanner, feargreed, macro-indicators) with --live flag\n2. Detect conflicts: compare module biases per symbol, compute conviction scores (0-10), rank by disagreement intensity\n3. Format output into DailyReport JSON (v2 schema with headline, crowded_trades, divergences, conviction_scores, module_scorecard, macro_regime) and POST to Supabase REST API\n\n## Non-Goals\n- Scheduling/cron setup (manual run for Week 0)\n- Email distribution\n- Historical analog lookup (Month 1)\n- More than top 10 assets\n\n## Verification\n- Script runs end-to-end: python3 scripts/generate_daily_disagree.py\n- Report appears in Supabase daily_reports table with status=published\n- Report renders on context8.markets/reports/daily\n\n## Key Files\n- scripts/generate_daily_disagree.py (create, ~150-180 lines)\n- AITrader skills at ~/personal/aitrader/.claude/skills/\n\n## Technical Notes\n- Skills invoked via: uv run ~/personal/aitrader/.claude/skills/{name}/scripts/{name}.py --live\n- Parse JSON from stdout, ignore stderr\n- Supabase REST: POST to {SUPABASE_URL}/rest/v1/daily_reports with apikey header\n- Store full skill outputs in raw_data JSONB for debugging\n- Set report_version: 2 in raw_data to trigger v2 rendering\n\n## Environment\n- SUPABASE_URL and SUPABASE_SERVICE_KEY env vars required\n- Python 3.11+, requests library","status":"closed","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:11:02.023773+03:00","created_by":"Vitaly D.","updated_at":"2026-02-11T16:16:23.746629+03:00","closed_at":"2026-02-11T16:16:23.746629+03:00","close_reason":"Recreating with correct architecture (ctx8-api, not Supabase)","labels":["daily-disagree","week0"],"dependencies":[{"issue_id":"ctx8land-3ux","depends_on_id":"ctx8land-feq","type":"blocks","created_at":"2026-02-11T16:11:23.221305+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-3wa","title":"DASH-10: Daily Report page assembly + asset detail page","description":"## Objective\nCreate the Daily Report page assembling all dashboard components, and the asset detail page.\n\n## Must-Haves\n1. Create `src/pages/DailyReport.tsx` — assembles: HeadlineBanner (top), ConflictStrip (horizontal scrollable asset chips), 2-column layout (60/40): left = ModuleScorecard + ConflictList, right = CrowdedTradeCard stack + DivergenceWatch + PriceTicker; full-width below: PriceChart + ConvictionHeatmap; uses `useDailyDisagreeReport` hook for data (from existing ctx8land-ysf task), shows loading state during fetch\n2. Create `src/pages/AssetDetail.tsx` — route `/dashboard/report/:date/:asset`: back link, asset name + date header, PriceChart (full candlestick with markers), ModuleScorecard (filtered to this asset, all expanded), CrowdedTradeCard (for this asset), quick stats sidebar (price, 24h change, volume, market cap)\n3. Create `src/components/disagree/ConflictStrip.tsx` — horizontal scrollable row of conflict chips (120x80px each): asset name, verdict ratio (4-2 BEAR), conviction score mini bar; sorted by conflict intensity; high-conflict chips glow (box-shadow amber); click scrolls to relevant section\n\n## Non-Goals\n- Report history / calendar page (phase 2)\n- Settings page\n- Real-time report polling/notifications\n- Mobile-specific interactions\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (sections 4, full layout)\n- Depends on: DASH-2 (layout shell), DASH-3 through DASH-8 (all component tasks)\n- Uses existing `useDailyDisagreeReport` hook from ctx8land-ysf task\n- Files to create: src/pages/DailyReport.tsx (or replace existing), src/pages/AssetDetail.tsx, src/components/disagree/ConflictStrip.tsx\n- 2-column grid: `grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-6`\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] DailyReport assembles all components in 2-column layout\n- [ ] AssetDetail shows price chart + scorecard + alerts for single asset\n- [ ] ConflictStrip renders horizontal scrollable chips sorted by intensity\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:17.167882+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:36.883823+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-jdn","type":"blocks","created_at":"2026-02-12T11:29:42.494747+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-tq3","type":"blocks","created_at":"2026-02-12T11:29:46.799644+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-apx","type":"blocks","created_at":"2026-02-12T11:29:46.885076+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-ofg","type":"blocks","created_at":"2026-02-12T11:29:46.972237+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-0xa","type":"blocks","created_at":"2026-02-12T11:29:47.056704+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-1fz","type":"blocks","created_at":"2026-02-12T11:29:47.158062+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-3wa","depends_on_id":"ctx8land-ra9","type":"blocks","created_at":"2026-02-12T11:29:47.243572+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-3xe","title":"Update DailyReport page with dynamic data","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:03:00.119033+03:00","updated_at":"2025-12-18T11:56:27.156158+03:00","closed_at":"2025-12-18T11:56:27.156158+03:00","close_reason":"Updated DailyReport page to use useDailyReport hook with loading/error states"}
{"id":"ctx8land-4zp","title":"Hero секция: новый value prop + сильный CTA","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T16:12:16.867156+03:00","updated_at":"2025-12-04T16:15:17.940815+03:00","closed_at":"2025-12-04T16:15:17.940815+03:00"}
{"id":"ctx8land-6d8","title":"INFRA-1: Docker Compose local Zitadel + env vars strategy","description":"## Objective\nCreate Docker Compose setup for local Zitadel development and environment variable strategy.\n\n## Must-Haves\n1. Create `docker-compose.dev.yaml` — Zitadel + Postgres services: Zitadel image ghcr.io/zitadel/zitadel:latest with start-from-init, TLS disabled, external domain localhost:8080, masterkey from env, Postgres 16-alpine with healthcheck; volumes for DB persistence; ports 8080 (Zitadel)\n2. Create `.env.development` (committed, safe defaults) with VITE_ZITADEL_AUTHORITY=http://localhost:8080, VITE_ZITADEL_CLIENT_ID=placeholder, VITE_API_URL=http://localhost:8081; create `.env.example` documenting all env vars; update .gitignore to include .env.local and .env.production\n3. Create `scripts/setup-local-zitadel.sh` — waits for Zitadel readiness (polls /debug/ready), prints manual setup steps (create project, create SPA app with PKCE, set redirect URI, copy client ID); make executable\n\n## Non-Goals\n- Automated Zitadel project/app creation via API (manual one-time setup is fine)\n- Kubernetes manifests (those live in infra repo)\n- Production environment setup\n- CI/CD pipeline changes\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-zitadel-auth-design.md (section 7)\n- Docker Compose v3.8 format\n- Zitadel admin: admin@context8.local / Password1!\n- Files to create: docker-compose.dev.yaml, .env.development, .env.example, scripts/setup-local-zitadel.sh\n- Files to modify: .gitignore (add .env.local, .env.production)\n\n## Verification\n- Run build checks:\n```bash\ncat docker-compose.dev.yaml | grep -c \"zitadel\"   # \u003e= 1\ncat .env.development | grep VITE_ZITADEL           # has authority + client_id\ntest -x scripts/setup-local-zitadel.sh             # is executable\nnpm run typecheck                                   # no errors\n```","acceptance_criteria":"- [ ] docker-compose.dev.yaml starts Zitadel + Postgres\n- [ ] .env.development has all VITE_ZITADEL_* vars\n- [ ] setup-local-zitadel.sh is executable and prints setup steps\n- [ ] .gitignore includes .env.local and .env.production","status":"closed","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:18.688047+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T13:44:10.662166+03:00","closed_at":"2026-02-12T13:44:10.662166+03:00","close_reason":"Closed","labels":["infra"]}
{"id":"ctx8land-7y1","title":"Pricing секция: улучшить визуал и CTA","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T16:12:20.914154+03:00","updated_at":"2025-12-04T16:15:18.050514+03:00","closed_at":"2025-12-04T16:15:18.050514+03:00","dependencies":[{"issue_id":"ctx8land-7y1","depends_on_id":"ctx8land-4zp","type":"blocks","created_at":"2025-12-04T16:12:27.264282+03:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ctx8land-7zt","title":"Create daily_reports database migration","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T16:02:43.388715+03:00","updated_at":"2025-12-18T11:03:29.716995+03:00","closed_at":"2025-12-18T11:03:29.716995+03:00","close_reason":"Created 006_daily_reports.sql with table, indexes, RLS policies, and helper functions"}
{"id":"ctx8land-81c","title":"Create useDailyReport React hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:02:58.414372+03:00","updated_at":"2025-12-18T11:40:37.310307+03:00","closed_at":"2025-12-18T11:40:37.310307+03:00","close_reason":"Created useDailyReport, useDailyReportsList, useDailyReportDates hooks with TypeScript types"}
{"id":"ctx8land-81q","title":"Refactor Admin.tsx with animations and layout","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T12:53:51.047297+03:00","updated_at":"2025-12-17T12:55:51.241301+03:00","closed_at":"2025-12-17T12:55:51.241301+03:00","close_reason":"Closed"}
{"id":"ctx8land-8nx","title":"Create generate-daily-report Edge Function","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T16:02:45.347649+03:00","updated_at":"2025-12-18T11:08:50.086631+03:00","closed_at":"2025-12-18T11:08:50.086631+03:00","close_reason":"Created generate-daily-report Edge Function with LunarCrush API integration"}
{"id":"ctx8land-92p","title":"Setup pg_cron jobs for daily reports","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:03:02.978676+03:00","updated_at":"2025-12-18T12:05:44.642307+03:00","closed_at":"2025-12-18T12:05:44.642307+03:00","close_reason":"Created pg_cron migration with scheduled jobs for daily report generation and sending"}
{"id":"ctx8land-9hi","title":"Add Framer Motion to DailyReport","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T12:53:56.539234+03:00","updated_at":"2025-12-17T12:59:23.028906+03:00","closed_at":"2025-12-17T12:59:23.028906+03:00","close_reason":"Added Framer Motion scroll animations, section headers, hover effects, and background effects to DailyReport.tsx"}
{"id":"ctx8land-9li","title":"Context 8: продумать новую концепцию на базе AI Trader","description":"Полностью переосмыслить и заменить текущую концепцию Context 8 на новую, основанную на проекте AI Trader и новых отчётах.","acceptance_criteria":"Есть краткий концепт-док (1–2 страницы) + схема/структура продукта.\nЕсть список конкретных отчётов (минимум 5) с форматами и периодичностью.\nПринято решение по роли MCP (оставляем/меняем/убираем) с аргументацией.\nЕсть черновой роадмап: MVP → v1 (этапы + критерии готовности).","notes":"Стартовая гипотеза: на первом этапе Context 8 = витрина/лента отчётов по разным монетам (пока только отчёты, без сложных сценариев).\n\nНужно определить:\n- позиционирование и целевую аудиторию\n- формат и каналы выдачи (веб/бот/рассылка)\n- перечень отчётов и метрики качества\n- требования к данным/обновлению (частота, источники)\n- хранение и история отчётов\n- объём MVP\n- что делаем с MCP сервером (оставляем/убираем/меняем роль)\n- план миграции с текущей концепции\n- риски и открытые вопросы","status":"closed","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-10T21:30:58.399576+03:00","created_by":"Vitaly D.","updated_at":"2026-02-11T16:10:31.512001+03:00","closed_at":"2026-02-11T16:10:31.512001+03:00","close_reason":"Brainstorm complete. Design doc: docs/plans/2026-02-11-daily-disagree-design.md. Concept: 'The Daily Disagree' — conflict-first crypto intelligence. Pivoted from generic daily reports to derivatives positioning + multi-module conflict detection.","labels":["ai-trader","concept","context-market","ctx8"]}
{"id":"ctx8land-al2","title":"AUTH-1: OIDC foundation — deps, config, AuthProvider, useAuth","description":"## Objective\nInstall OIDC dependencies and create the auth foundation: config, provider, and useAuth hook.\n\n## Must-Haves\n1. Install `react-oidc-context@3.3+` and `oidc-client-ts@3.1+`, create `src/lib/auth.ts` with OIDC config (authority, client_id, redirect_uri from env vars, PKCE response_type, automaticSilentRenew, offline_access scope, urn:zitadel:iam:org:project:id scope)\n2. Create `src/components/auth/AuthProvider.tsx` that wraps `OidcAuthProvider` from react-oidc-context with the config from auth.ts, wire into `src/main.tsx` wrapping the entire app\n3. Rewrite `src/hooks/useAuth.ts` to wrap react-oidc-context's `useAuth()` — return `{ user, isAuthenticated, isLoading, isAdmin, accessToken, subscriptionTier, login, logout, hasRole, hasTier }` extracting Zitadel roles from `urn:zitadel:iam:org:project:roles` claim\n\n## Non-Goals\n- Removing Supabase Auth (separate task)\n- Route protection components (separate task)\n- TanStack Query integration (separate task)\n- Docker Compose / local Zitadel setup (separate task)\n- Tests (tester agent writes these)\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-zitadel-auth-design.md\n- Stack doc: docs/plans/2026-02-12-trader-ui-stack.md\n- React 19.2, TypeScript 5.x\n- Env vars: VITE_ZITADEL_AUTHORITY, VITE_ZITADEL_CLIENT_ID, VITE_ZITADEL_PROJECT_ID\n- Files to create: src/lib/auth.ts, src/components/auth/AuthProvider.tsx\n- Files to modify: src/hooks/useAuth.ts, src/main.tsx\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] react-oidc-context and oidc-client-ts in package.json\n- [ ] src/lib/auth.ts exports oidcConfig with PKCE + automaticSilentRenew\n- [ ] AuthProvider wraps app in main.tsx\n- [ ] useAuth() returns isAuthenticated, user, accessToken, login, logout\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"closed","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:01.842083+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T13:44:30.967141+03:00","closed_at":"2026-02-12T13:44:30.967141+03:00","close_reason":"Closed","labels":["auth"]}
{"id":"ctx8land-apx","title":"DASH-4: Module scorecard — grouped pills, categories, filtering","description":"## Objective\nCreate the module scorecard component: grouped pill grid with categories, expand/collapse, and filtering.\n\n## Must-Haves\n1. Create `src/components/disagree/ModuleScorecard.tsx` — grouped pill grid with 5 category sections (Technical, Positioning, Sentiment, Macro, On-Chain); each category has collapsible header showing aggregated verdict (\"Technical: BULL 3-2\"); pills sorted by conviction desc within category; filter pills above: All, Conflicts Only, High Conviction (\u003e70%)\n2. Create `src/components/disagree/ModulePill.tsx` — individual module pill (min 140px wide, 36px height): signal icon (▲/▼/◆) + module name + conviction number; background: signal color at 10% opacity; left border: 3px solid signal color; conviction font-size scales (0-3: 12px/50%, 4-6: 14px/75%, 7-10: 18px/bold); conflict state: pulsing amber border glow\n3. Create `src/components/disagree/BullBearBalance.tsx` — horizontal stacked bar (recharts BarChart, layout=\"vertical\") below scorecard showing bull/neutral/bear count with colors; 48px height; labels show \"X Bull / Y Neutral / Z Bear\"\n\n## Non-Goals\n- Module detail expansion panel (phase 2)\n- Sort dropdown (filter pills are sufficient for v1)\n- Keyboard navigation within scorecard (separate task)\n- API data fetching (accepts props)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 5)\n- Depends on: DASH-1 (color tokens + signals lib)\n- recharts v3 for BullBearBalance bar\n- Files to create: src/components/disagree/ModuleScorecard.tsx, src/components/disagree/ModulePill.tsx, src/components/disagree/BullBearBalance.tsx\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] ModuleScorecard renders 5 category groups with collapsible headers\n- [ ] ModulePill shows signal icon + name + conviction with scaled font\n- [ ] BullBearBalance shows stacked horizontal bar with counts\n- [ ] Filter pills work (All, Conflicts Only, High Conviction)\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:09.682434+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:35.616844+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-apx","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:43.280579+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-blt","title":"AUTH-2: Route protection — ProtectedRoute, AuthCallback, TierGate","description":"## Objective\nCreate route protection components: ProtectedRoute, AuthCallback, TierGate, and simplify Auth.tsx.\n\n## Must-Haves\n1. Create `src/components/auth/ProtectedRoute.tsx` — component-based route guard with props `{ children, requiredTier?, requiredRole?, fallbackPath? }`, shows loading state during OIDC init, redirects to /auth if not authenticated, passes `returnTo` in location state\n2. Create `src/components/auth/AuthCallback.tsx` — handles `/auth/callback` OIDC redirect, navigates to /dashboard on success, navigates to /auth on error; add `/auth/callback` route to App.tsx\n3. Create `src/components/auth/TierGate.tsx` — inline blurred paywall for subscription features with props `{ children, requiredTier, featureName }`, shows blurred preview + upgrade CTA when tier insufficient\n\n## Non-Goals\n- Modifying existing Supabase auth flows (keep both working)\n- Payment/upgrade modal implementation\n- Custom Zitadel login UI branding\n- Admin panel routes\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-zitadel-auth-design.md (section 6)\n- Depends on: AUTH-1 (useAuth hook must exist)\n- Use react-router-dom Navigate for redirects, not window.location\n- Files to create: src/components/auth/ProtectedRoute.tsx, src/components/auth/AuthCallback.tsx, src/components/auth/TierGate.tsx\n- Files to modify: src/App.tsx (add callback route + wrap routes with ProtectedRoute)\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] ProtectedRoute redirects unauthenticated users to /auth\n- [ ] AuthCallback handles /auth/callback and redirects to /dashboard\n- [ ] TierGate shows blurred preview for insufficient tier\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:02.646806+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:33.833485+03:00","labels":["auth"],"dependencies":[{"issue_id":"ctx8land-blt","depends_on_id":"ctx8land-al2","type":"blocks","created_at":"2026-02-12T11:29:39.21058+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-cga","title":"AUTH-4: Migrate Auth.tsx + remove Supabase Auth","description":"## Objective\nMigrate Auth.tsx to Zitadel redirect flow and remove Supabase Auth dependency.\n\n## Must-Haves\n1. Rewrite `src/pages/Auth.tsx` — replace Supabase email/password + Google OAuth form with a single \"Sign In / Register\" button that calls `login()` from useAuth (redirects to Zitadel hosted login), auto-redirect to /dashboard if already authenticated\n2. Remove all `supabase.auth.*` calls from src/pages/Dashboard.tsx and any other files — replace with useAuth() hook calls, remove onAuthStateChange listeners, replace supabase.auth.getUser() with useAuth().user\n3. Remove `@supabase/supabase-js` from package.json, delete `src/lib/supabase.ts`, update all files that imported supabase client to use apiFetch or useAuth instead\n\n## Non-Goals\n- Removing Supabase DB query hooks (those migrate when ctx8-api endpoints are ready)\n- Modifying payment/subscription flows\n- Adding new dashboard features\n- Tests\n\n## Constraints\n- Depends on: AUTH-1, AUTH-2, AUTH-3 (all auth foundation must be in place)\n- Design doc: docs/plans/2026-02-12-zitadel-auth-design.md (section 8: Migration)\n- Files to modify: src/pages/Auth.tsx, src/pages/Dashboard.tsx, package.json\n- Files to delete: src/lib/supabase.ts\n- Keep terminal-aesthetic styling on Auth.tsx (just remove the form, keep the design)\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\ngrep -r \"supabase\" src/ --include=\"*.ts\" --include=\"*.tsx\" | grep -v \"// legacy\" | wc -l  # 0 auth imports\n```","acceptance_criteria":"- [ ] Auth.tsx shows single Sign In button (no email/password form)\n- [ ] No supabase.auth.* calls in src/\n- [ ] @supabase/supabase-js removed from package.json\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:05.368723+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:34.087338+03:00","labels":["auth"],"dependencies":[{"issue_id":"ctx8land-cga","depends_on_id":"ctx8land-blt","type":"blocks","created_at":"2026-02-12T11:29:39.431171+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-cga","depends_on_id":"ctx8land-shm","type":"blocks","created_at":"2026-02-12T11:29:39.52473+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-dk4","title":"Add OG meta tags + Telegram auto-post to generation script","description":"## Objective\nMake reports shareable on social media and auto-post to Telegram channel after generation.\n\n## Must-Haves\n1. Add dynamic OG meta tags to DailyReport page (og:title from headline, og:description from top crowded trade, og:image placeholder)\n2. Add Telegram Bot API call to generation script: after Supabase insert, send formatted message to Telegram channel with headline + conviction scores + link\n3. Add email signup form component on report page (email input → Supabase email_subscribers table)\n\n## Non-Goals\n- Email delivery/sending (Week 2)\n- Twitter automation (manual for now)\n- Custom OG images (placeholder is fine)\n- Telegram bot commands/interactivity\n\n## Verification\n- OG tags visible in page source with report-specific content\n- Telegram message sent to test channel after script run\n- Email signup form submits to Supabase table\n\n## Key Files\n- src/pages/DailyReport.tsx (modify — OG tags via react-helmet or meta)\n- scripts/generate_daily_disagree.py (modify — add TG post)\n- supabase/migrations/ (new — email_subscribers table if needed)\n\n## Environment\n- TELEGRAM_BOT_TOKEN and TELEGRAM_CHANNEL_ID env vars for TG posting","status":"closed","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:11:18.140014+03:00","created_by":"Vitaly D.","updated_at":"2026-02-11T16:16:23.751115+03:00","closed_at":"2026-02-11T16:16:23.751115+03:00","close_reason":"Recreating with correct architecture (ctx8-api, not Supabase)","labels":["daily-disagree","week0"],"dependencies":[{"issue_id":"ctx8land-dk4","depends_on_id":"ctx8land-3ux","type":"blocks","created_at":"2026-02-11T16:11:23.462919+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-dk4","depends_on_id":"ctx8land-e5g","type":"blocks","created_at":"2026-02-11T16:11:23.579585+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-e5g","title":"Update DailyReport UI for v2 derivatives content","description":"## Objective\nUpdate the React DailyReport page to render the new v2 derivatives-focused content (module scorecard, crowded trades, divergences, conviction scores).\n\n## Must-Haves\n1. Detect report_version in raw_data: if v2, render new sections; if v1/missing, render existing layout\n2. Render Module Scorecard section: grid showing bull/bear/neutral per module for featured asset, with bias colors\n3. Render Crowded Trade Alerts: cards showing symbol, direction (long/short), z-score, historical analog if available\n\n## Non-Goals\n- Redesigning the overall page layout or navigation\n- Adding new routes or pages\n- Conviction score charts (simple number display is fine)\n- Mobile-specific optimizations beyond existing responsive grid\n\n## Verification\nnpm run build passes\nPage renders correctly with v2 report data from Supabase\nFallback: page still renders v1 reports correctly\n\n## Key Files\n- src/pages/DailyReport.tsx (modify)\n- src/types/dailyReport.ts (read, types from previous task)\n\n## UI Sections to Add (in order on page)\n1. Headline banner (full-width, prominent, styled like terminal alert)\n2. Module Scorecard (table/grid: module name | bias icon | summary text)\n3. Crowded Trade Alerts (cards: symbol, direction arrow, z-score, analog)\n4. Divergence Watch (compact list: symbol, type, description)\n5. Conviction Scores (top 10 assets, number + bar, below existing sections)\n\n## Design Reference\nUse existing terminal-style color scheme (graphite-950, terminal-green, terminal-cyan, terminal-red).\nBullish = terminal-green, Bearish = terminal-red, Neutral = terminal-cyan.","status":"closed","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:11:10.931696+03:00","created_by":"Vitaly D.","updated_at":"2026-02-11T16:16:23.748881+03:00","closed_at":"2026-02-11T16:16:23.748881+03:00","close_reason":"Recreating with correct architecture (ctx8-api, not Supabase)","labels":["daily-disagree","week0"],"dependencies":[{"issue_id":"ctx8land-e5g","depends_on_id":"ctx8land-feq","type":"blocks","created_at":"2026-02-11T16:11:23.343115+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-ebt","title":"Features секция: визуальные карточки с иконками","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T16:12:18.990878+03:00","updated_at":"2025-12-04T16:15:17.995106+03:00","closed_at":"2025-12-04T16:15:17.995106+03:00","dependencies":[{"issue_id":"ctx8land-ebt","depends_on_id":"ctx8land-4zp","type":"blocks","created_at":"2025-12-04T16:12:27.143493+03:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ctx8land-feq","title":"Update DailyReport types for v2 derivatives schema","description":"## Objective\nAdd new TypeScript interfaces for the Daily Disagree report format to src/types/dailyReport.ts.\n\n## Must-Haves\n1. Add interfaces: ModuleVerdict, CrowdedTrade, Divergence, ConvictionScore, MacroRegime\n2. Extend DailyReport type with optional v2 fields (headline, conviction_scores, crowded_trades, divergences, module_scorecard, macro_regime, report_version)\n3. Add helper functions: getModuleBiasColor(), getConvictionLabel()\n\n## Non-Goals\n- Changing existing v1 interfaces (keep backward compat)\n- Database migration (JSONB handles new fields)\n- UI changes (separate task)\n\n## Verification\nnpm run lint \u0026\u0026 npm run build pass with new types\n\n## Key Files\n- src/types/dailyReport.ts (modify)\n\n## Reference\nDesign doc: docs/plans/2026-02-11-daily-disagree-design.md (Schema Design section)","status":"closed","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:10:52.280029+03:00","created_by":"Vitaly D.","updated_at":"2026-02-11T16:16:23.744557+03:00","closed_at":"2026-02-11T16:16:23.744557+03:00","close_reason":"Recreating with correct architecture (ctx8-api, not Supabase)","labels":["daily-disagree","week0"]}
{"id":"ctx8land-ggr","title":"DASH-1: Design tokens — Tailwind config, DD_COLORS, signals lib","description":"## Objective\nCreate dashboard design tokens: extend Tailwind config, create DD_COLORS constant and signal display helpers.\n\n## Must-Haves\n1. Extend `tailwind.config.ts` with dashboard colors: bull (#4CAF78 + dim), bear (#C94D4D + dim), neutral (#7B8FA0 + dim), amber (#C49A3C + dim + bright), divergence (#5A9EC9 + dim), surface (DEFAULT + elevated), plus conviction gradient stops and conflict severity colors\n2. Create `src/lib/colors.ts` — export `DD_COLORS` constant object with all color tokens (bullish, bearish, neutral, conviction0-10, conflictLow-Critical, dangerSafe-Extreme, priceUp/Down, category colors for 5 module categories) and helper function `convictionToColor(n: number): string`\n3. Create `src/lib/signals.ts` — export `SIGNAL_DISPLAY` constant mapping signal types to `{ color, icon, label }` (bullish → ▲/BULL, bearish → ▼/BEAR, neutral → ◆/NEUT), plus `SignalType` and `SubscriptionTier` type definitions\n\n## Non-Goals\n- CSS custom properties / globals.css changes (Tailwind handles this)\n- Component creation (separate tasks)\n- Dark/light theme toggle (dark only)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (sections 3, 4)\n- Tailwind CSS 3.4 (NOT 4.x)\n- Files to create: src/lib/colors.ts, src/lib/signals.ts\n- Files to modify: tailwind.config.ts\n- All colors must be WCAG AA compliant on #0B0C0E background\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] tailwind.config.ts has bull, bear, neutral, amber, divergence, surface colors\n- [ ] src/lib/colors.ts exports DD_COLORS with all tokens\n- [ ] src/lib/signals.ts exports SIGNAL_DISPLAY with icon+label per type\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"closed","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:06.367675+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T13:44:23.120943+03:00","closed_at":"2026-02-12T13:44:23.120943+03:00","close_reason":"Closed","labels":["dashboard"]}
{"id":"ctx8land-gu3","title":"Написать SEO-контент: 3 статьи для органического трафика","description":"## Контекст\nНужен органический трафик через SEO-контент.\n\n## Критерии готовности\n- [ ] 3 статьи на релевантные темы\n- [ ] Оптимизированы под ключевые слова\n- [ ] Опубликованы на сайте/блоге\n\n## Темы (определить)\n- Как использовать MCP для документации\n- [тема 2]\n- [тема 3]","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T10:53:40.485648+03:00","updated_at":"2025-12-04T17:27:51.380084+03:00","closed_at":"2025-12-04T17:27:51.380084+03:00"}
{"id":"ctx8land-i8r","title":"Epic: Daily Disagree Week 0 — ship first real report","description":"Ship the first Daily Disagree report on context8.markets in 3-4 days.\n\n## Objective\nConnect AITrader skills to existing Context8 DailyReport UI via Supabase, producing conflict-first crypto intelligence.\n\n## Must-Haves\n1. Generation script runs AITrader skills and inserts report into Supabase\n2. React UI renders new derivatives-focused content (scorecard, crowded trades, divergences)\n3. Report is publicly visible at context8.markets/reports/daily\n\n## Non-Goals\n- ctx8-api integration (Month 2)\n- NATS/Zitadel auth (Month 2)\n- Email delivery (Week 2)\n- Trade Validator interactive feature (Month 2)\n- Accuracy tracking (Month 1)\n- Per-asset pages (Week 2)\n\n## Constraints\n- Design doc: docs/plans/2026-02-11-daily-disagree-design.md\n- Stack doc: docs/plans/2026-02-12-trader-ui-stack.md\n- 3-4 day timeline, single developer\n\n## Verification\n```bash\nnpm run typecheck\nnpm run lint\nnpm run build\n```\n\n## Kill Criteria (30 days after launch)\n- 200+ Telegram subscribers AND 30%+ daily view rate → continue\n- \u003c100 subscribers → kill concept","acceptance_criteria":"- [ ] Generation script produces a valid report JSON\n- [ ] DailyReport page renders scorecard, crowded trades, and divergences\n- [ ] Report accessible at context8.markets/reports/daily","status":"open","priority":1,"issue_type":"feature","owner":"netmin@pm.me","created_at":"2026-02-11T16:10:42.809305+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:18:29.894857+03:00","labels":["daily-disagree","week0"]}
{"id":"ctx8land-jdn","title":"DASH-2: Layout shell — Sidebar, header, routes","description":"## Objective\nCreate the dashboard layout shell: sidebar navigation, header bar, responsive layout, and route structure.\n\n## Must-Haves\n1. Create `src/pages/Dashboard.tsx` — layout shell with 48px collapsed sidebar (icons only, expand to 200px on hover/click), header bar (56px) with logo + report date + prev/next arrows + Ctrl+K hint, and `\u003cOutlet /\u003e` for nested routes; responsive: sidebar collapses to bottom tab bar on mobile (\u003c768px)\n2. Create `src/components/dashboard/Sidebar.tsx` — navigation items: Today's Report, Crowded Trades, Divergence Watch, Historical, Assets, Settings; each item has icon + label; collapsed state shows icon only; active route highlighted with amber accent\n3. Add dashboard routes to App.tsx: `/dashboard` (redirect to report/latest), `/dashboard/report/:date`, `/dashboard/crowded`, `/dashboard/divergence`, `/dashboard/history`, `/dashboard/settings`; all lazy-loaded with React.lazy + Suspense\n\n## Non-Goals\n- Command palette (separate task DASH-9)\n- Keyboard navigation (separate task DASH-9)\n- Actual page content (each page is a separate task)\n- Authentication wiring (handled by ProtectedRoute)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (sections 1, 2)\n- Depends on: DASH-1 (needs color tokens for sidebar styling)\n- Tailwind CSS 3.4, react-router-dom v7\n- Sidebar uses lucide-react icons (already in deps via shadcn)\n- Files to create: src/pages/Dashboard.tsx, src/components/dashboard/Sidebar.tsx\n- Files to modify: src/App.tsx (add routes)\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] Dashboard.tsx renders Sidebar + Outlet\n- [ ] Sidebar 48px collapsed, 200px expanded, bottom tab on mobile\n- [ ] 6 dashboard routes added with React.lazy\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:07.458406+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:35.392288+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-jdn","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:40.373316+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-krx","title":"Add OG meta tags + Telegram auto-post","description":"## Objective\nMake reports shareable via social previews and auto-post to Telegram channel.\n\n## Must-Haves\n1. Dynamic OG meta tags on DailyReport page: og:title from headline, og:description from top crowded trade alert, og:url with report date\n2. Telegram Bot API call in generation script (ctx8-api repo): after POST to API, send formatted message to Telegram channel with headline + top 3 conviction scores + report link\n3. Email signup form on report page: simple email input → POST to ctx8-api (email_subscribers endpoint, can be minimal)\n\n## Non-Goals\n- Email delivery/sending (Week 2, via NATS)\n- Twitter automation\n- Custom OG images\n- Telegram bot commands/interactivity\n\n## Constraints\n- OG tags must work with Telegram/Twitter link preview crawlers\n- Telegram Bot token stored in environment variables, not code\n\n## Verification\n```bash\nnpm run typecheck\nnpm run lint\nnpm run build\n```\n\n## Key Files\n- src/pages/DailyReport.tsx (modify — OG tags)\n- ctx8-api: scripts/generate_daily_disagree.py (modify — TG post)","acceptance_criteria":"- [ ] OG tags visible in page source with dynamic content\n- [ ] Telegram message sent to test channel on report generation\n- [ ] Email form submits and stores email","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:17:18.442774+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:19:08.16461+03:00","labels":["daily-disagree","week0"],"dependencies":[{"issue_id":"ctx8land-krx","depends_on_id":"ctx8land-qlc","type":"blocks","created_at":"2026-02-11T16:17:23.093794+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-mbq","title":"Написать статью: How to use MCP for documentation context","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T09:52:13.5821+03:00","updated_at":"2026-02-11T10:23:50.183048+03:00","closed_at":"2026-02-11T10:23:50.183048+03:00","close_reason":"User requested closing"}
{"id":"ctx8land-njm","title":"Fix VerificationModal colors and add motion","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T12:53:53.15084+03:00","updated_at":"2025-12-17T12:55:51.243048+03:00","closed_at":"2025-12-17T12:55:51.243048+03:00","close_reason":"Closed"}
{"id":"ctx8land-ofg","title":"DASH-5: Conflict visualization — cards, balance bar, verdict bar","description":"## Objective\nCreate conflict visualization components: conflict cards with severity, tug-of-war bar, and mini conflict network.\n\n## Must-Haves\n1. Create `src/components/disagree/ConflictCard.tsx` — single conflict card showing: severity pill (Low/Medium/High/Critical colored), two opposing modules (left: Module A signal + conviction, right: Module B signal + conviction) connected by lightning bolt icon, nature description text, resolution hint from historical_analog; left border 4px colored by severity; high severity: pulsing glow\n2. Create `src/components/disagree/ConflictList.tsx` — vertical list of ConflictCards sorted by severity (critical first); accepts array of conflict objects as props\n3. Create `src/components/disagree/VerdictBar.tsx` — tug-of-war bi-directional horizontal bar (200px wide): green fills from left (bull count), red fills from right (bear count), amber line at contact point; 3-3 split = symmetrical with glowing center; 6-0 = fully one color\n\n## Non-Goals\n- Conflict network SVG diagram (phase 2)\n- Fracture lines in scorecard (handled by scorecard component)\n- Animated transitions between conflict states\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 6)\n- Depends on: DASH-1 (color tokens for severity colors)\n- Files to create: src/components/disagree/ConflictCard.tsx, src/components/disagree/ConflictList.tsx, src/components/disagree/VerdictBar.tsx\n- Pure CSS for VerdictBar (no recharts needed), use CSS linear-gradient\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] ConflictCard shows two opposing modules with severity badge\n- [ ] ConflictList sorts by severity (critical first)\n- [ ] VerdictBar shows bi-directional bull/bear fill\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:11.042292+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:35.731847+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-ofg","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:43.362666+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-qlc","title":"Update DailyReport UI to render v2 derivatives content","description":"## Objective\nUpdate the React DailyReport page to render Daily Disagree v2 content fetched from ctx8-api.\n\n## Must-Haves\n1. Switch DailyReport.tsx to use useDailyDisagreeReport hook (ctx8-api) instead of useDailyReport (Supabase), with fallback if API unavailable\n2. Render Module Scorecard section: grid showing bull/bear/neutral per module for BTC, with bias colors (green=bullish, red=bearish, cyan=neutral)\n3. Render Headline banner (full-width alert), Crowded Trade Alerts (cards with z-score + direction), and Divergence Watch (compact list)\n\n## Non-Goals\n- Removing old v1 rendering code (keep as fallback)\n- Mobile-specific redesign\n- Conviction score charts (simple number grid is fine)\n- OG meta tags (separate task)\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md\n- Stack doc: docs/plans/2026-02-12-trader-ui-stack.md\n- Keep old v1 rendering as fallback path\n\n## Verification\n```bash\nnpm run typecheck\nnpm run lint\nnpm run build\n```\n\n## Key Files\n- src/pages/DailyReport.tsx (modify)\n- src/hooks/useDailyDisagreeReport.ts (use, from previous task)\n- src/types/dailyReport.ts (use, types from previous task)","acceptance_criteria":"- [ ] DailyReport page renders v2 content from ctx8-api\n- [ ] Falls back gracefully when API unavailable\n- [ ] npm run build passes","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:17:11.101325+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:19:08.721673+03:00","labels":["daily-disagree","week0"],"dependencies":[{"issue_id":"ctx8land-qlc","depends_on_id":"ctx8land-ysf","type":"blocks","created_at":"2026-02-11T16:17:23.012837+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-ra9","title":"DASH-8: Price chart + conviction heatmap + WS status banner","description":"## Objective\nCreate the main price chart component using lightweight-charts with candlestick display and event markers.\n\n## Must-Haves\n1. Create `src/components/disagree/PriceChart.tsx` — full-width candlestick chart using lightweight-charts v5 `createChart` + `CandlestickSeries`: dark background (#0B0C0E), grid (#1A1C2133), crosshair amber (#C49A3C44), up candles #4CAF78, down candles #C94D4D; accepts `{ data: CandlestickData[], markers?: SeriesMarker[] }` props; responsive width via ResizeObserver; timeframe selector buttons (15m, 1h, 4h, 1D)\n2. Create `src/components/disagree/ConvictionHeatmap.tsx` — CSS Grid (7 columns x N rows): 7 days of conviction data per module, each cell 40x28px with background color from amber gradient (convictionToColor from colors.ts), left border colored by signal; module names as row labels (120px column); hidden on mobile (`hidden md:block`)\n3. Create `src/components/disagree/WSStatusBanner.tsx` — stale data / disconnect indicator: red background banner when WS disconnected or data stale \u003e30s, shows \"DATA STALE — Last update Xs ago — Reconnecting...\", reads connectionStatus + lastMessageTime from priceStore\n\n## Non-Goals\n- Drawing tools or indicators panel\n- Volume subplot\n- Chart interaction beyond crosshair\n- Real data fetching (accepts props)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 9)\n- Depends on: DASH-1 (color tokens), DASH-2 (layout shell), DASH-7 (price store for WSStatusBanner)\n- lightweight-charts v5 (already in approved stack)\n- Heatmap uses pure CSS Grid, NOT recharts\n- Files to create: src/components/disagree/PriceChart.tsx, src/components/disagree/ConvictionHeatmap.tsx, src/components/disagree/WSStatusBanner.tsx\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] PriceChart renders candlestick with dark theme + amber crosshair\n- [ ] ConvictionHeatmap renders CSS Grid with amber gradient cells\n- [ ] WSStatusBanner shows when data stale \u003e30s\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:14.997034+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:36.672193+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-ra9","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:44.975326+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-ra9","depends_on_id":"ctx8land-jdn","type":"blocks","created_at":"2026-02-12T11:29:45.062253+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-ra9","depends_on_id":"ctx8land-1fz","type":"blocks","created_at":"2026-02-12T11:29:45.142093+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-s9n","title":"Create send-daily-report Edge Function","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T16:02:47.240594+03:00","updated_at":"2025-12-18T11:11:00.207262+03:00","closed_at":"2025-12-18T11:11:00.207262+03:00","close_reason":"Created send-daily-report Edge Function with Telegram notification"}
{"id":"ctx8land-shm","title":"AUTH-3: API layer — apiFetch wrapper, TanStack Query 401 handling","description":"## Objective\nCreate authenticated API fetch wrapper and wire TanStack Query with 401 handling.\n\n## Must-Haves\n1. Create `src/lib/api.ts` — `apiFetch\u003cT\u003e(path, options)` function that reads access token from OIDC context, sets Authorization Bearer header, throws ApiError on non-ok response, handles 204 No Content; base URL from VITE_API_URL env var\n2. Create `src/lib/queryClient.ts` — QueryClient with global 401 retry (retry once on 401, no retry on 403/404), staleTime 30s, gcTime 5min, refetchOnWindowFocus true; export queryClient singleton\n3. Wire QueryClientProvider into AuthProvider component, add `queryClient.clear()` on logout event (storage event listener for multi-tab sync)\n\n## Non-Goals\n- Actual API endpoints / query hooks (created per-feature)\n- WebSocket integration (separate task DASH-7)\n- Axios or other HTTP libraries\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-zitadel-auth-design.md (section 6)\n- Depends on: AUTH-1 (useAuth hook for token access)\n- TanStack Query v5 (@tanstack/react-query)\n- Must install @tanstack/react-query if not already installed\n- Files to create: src/lib/api.ts, src/lib/queryClient.ts\n- Files to modify: src/components/auth/AuthProvider.tsx (add QueryClientProvider)\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] apiFetch sets Authorization Bearer header from token\n- [ ] queryClient retries once on 401, no retry on 403/404\n- [ ] QueryClientProvider wired in AuthProvider\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:03.690218+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:33.959005+03:00","labels":["auth"],"dependencies":[{"issue_id":"ctx8land-shm","depends_on_id":"ctx8land-al2","type":"blocks","created_at":"2026-02-12T11:29:39.299141+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-tq3","title":"DASH-3: Headline banner + conviction score component","description":"## Objective\nCreate the headline banner component for the Daily Report page.\n\n## Must-Haves\n1. Create `src/components/disagree/HeadlineBanner.tsx` — full-width banner (fixed 120px height) showing: headline text (Inter 800, clamp 1.5-2rem), conviction score (JetBrains Mono 600, 2rem, amber) with 10-segment bar, report date + number; truncate long headlines with ellipsis + hover tooltip\n2. Create `src/components/disagree/ConvictionScore.tsx` — reusable component: large numeral + 10-segment horizontal bar (8px wide segments, 4px tall, 2px gaps); color logic: 0-3 amber (highlighted), 4-6 text-secondary (muted), 7-10 text-muted (very muted) — inverted because low conviction = interesting\n3. Create macro regime badges row: pill-shaped badges for risk_on/risk_off/mixed, Fear \u0026 Greed value, DXY trend; styled as `accent-dim` background + `accent` text, rounded-full\n\n## Non-Goals\n- Date picker navigation (part of layout shell header)\n- Animation/typewriter effects\n- Real data fetching (accepts props)\n- Tests\n\n## Constraints\n- Design doc: docs/plans/2026-02-12-dashboard-design.md (section 5, 6)\n- Depends on: DASH-1 (color tokens), DASH-2 (layout shell)\n- Files to create: src/components/disagree/HeadlineBanner.tsx, src/components/disagree/ConvictionScore.tsx\n- Component accepts typed props, no internal data fetching\n\n## Verification\n- Run build checks:\n```bash\nnpm run typecheck              # no errors\nnpm run lint                   # no errors\nnpm run build                  # builds successfully\n```","acceptance_criteria":"- [ ] HeadlineBanner renders headline + conviction + macro badges\n- [ ] ConvictionScore shows numeral + 10-segment bar\n- [ ] Banner fixed 120px height with ellipsis truncation\n- [ ] npm run typecheck + npm run build pass with 0 errors","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-12T11:29:08.980208+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:33:35.510948+03:00","labels":["dashboard"],"dependencies":[{"issue_id":"ctx8land-tq3","depends_on_id":"ctx8land-jdn","type":"blocks","created_at":"2026-02-12T11:29:42.307971+03:00","created_by":"Vitaly D."},{"issue_id":"ctx8land-tq3","depends_on_id":"ctx8land-ggr","type":"blocks","created_at":"2026-02-12T11:29:43.197551+03:00","created_by":"Vitaly D."}]}
{"id":"ctx8land-vbb","title":"Full Dashboard UX improvements","description":"Command bar, status visualization, activity stats, collapsible notices, onboarding checklist","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T13:41:18.091845+03:00","updated_at":"2025-12-17T13:43:59.21401+03:00","closed_at":"2025-12-17T13:43:59.21401+03:00","close_reason":"Implemented full UX improvements: Command Bar, StatusCard with progress, ActivityStats, CollapsibleNotice, GettingStartedChecklist"}
{"id":"ctx8land-vmz","title":"Refactor Dashboard.tsx with Framer Motion animations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T13:10:18.406775+03:00","updated_at":"2025-12-17T13:11:56.5025+03:00","closed_at":"2025-12-17T13:11:56.5025+03:00","close_reason":"Full Dashboard refactoring with Framer Motion animations, skeleton loaders, numbered sections, hover effects"}
{"id":"ctx8land-wnz","title":"Polish PaymentSubmissionRow hover states","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T12:53:54.601416+03:00","updated_at":"2025-12-17T12:55:51.243554+03:00","closed_at":"2025-12-17T12:55:51.243554+03:00","close_reason":"Closed"}
{"id":"ctx8land-y99","title":"Remove static maintenance dates from UI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:03:01.284394+03:00","updated_at":"2025-12-18T10:56:58.46748+03:00","closed_at":"2025-12-18T10:56:58.46748+03:00","close_reason":"Removed static maintenance dates from Landing.tsx, MCPInstructions.tsx, Dashboard.tsx. Also removed unused CollapsibleNotice component."}
{"id":"ctx8land-ymb","title":"Редизайн лендинга context8 — современный UI/UX","description":"## Контекст\nТекущий лендинг создан без дизайна, нужен приятный UI/UX для улучшения конверсии.\n\n## Критерии готовности\n- [ ] Современный визуальный дизайн\n- [ ] Улучшенный UX (навигация, CTA)\n- [ ] Mobile-friendly\n- [ ] Загружается быстро","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T10:53:23.362195+03:00","updated_at":"2025-12-04T16:15:37.362217+03:00","closed_at":"2025-12-04T16:15:37.362217+03:00"}
{"id":"ctx8land-ypn","title":"Add channel management to telegram-bot","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:02:48.595193+03:00","updated_at":"2026-02-11T10:23:50.333153+03:00","closed_at":"2026-02-11T10:23:50.333153+03:00","close_reason":"User requested closing"}
{"id":"ctx8land-ysf","title":"Update DailyReport types + hook to fetch from ctx8-api","description":"## Objective\nAdd new TypeScript types for Daily Disagree v2 report and create a hook that fetches from ctx8-api instead of Supabase.\n\n## Must-Haves\n1. Add new interfaces to src/types/dailyReport.ts: ModuleVerdict, CrowdedTrade, Divergence, ConvictionScore, MacroRegime, DailyDisagreeReport\n2. Create new hook src/hooks/useDailyDisagreeReport.ts that fetches from api.context8.markets/api/v1/reports/{asset}/daily (plain fetch, no Supabase client)\n3. Export all new types and hook from their respective modules\n\n## Non-Goals\n- Removing old Supabase types/hooks (keep backward compat for now)\n- UI changes (separate task)\n- Real-time subscriptions (Supabase feature, not needed with ctx8-api)\n\n## Constraints\n- Use plain fetch, not Supabase client\n- Types must match ctx8-api response schema exactly\n\n## Verification\n```bash\nnpm run typecheck\nnpm run lint\nnpm run build\n```\n\n## Key Files\n- src/types/dailyReport.ts (modify — add new interfaces)\n- src/hooks/useDailyDisagreeReport.ts (create)","acceptance_criteria":"- [ ] New types match ctx8-api response schema\n- [ ] Hook fetches from ctx8-api endpoint\n- [ ] npm run typecheck and npm run build pass","status":"open","priority":1,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-02-11T16:17:03.443947+03:00","created_by":"Vitaly D.","updated_at":"2026-02-12T11:19:09.269512+03:00","labels":["daily-disagree","week0"]}
